<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>äººç”Ÿè½‰å½è™•ï½œéˆæ•¸äº’å‹•æ—…ç¨‹</title>

<style>
body {
  margin: 0;
  font-family: "Helvetica Neue", sans-serif;
  transition: background 0.8s;
}
#wrapper {
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}
#app {
  width: 380px;
  background: white;
  border-radius: 24px;
  padding: 26px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.15);
}
h3 { margin-top: 0; }
button {
  width: 100%;
  padding: 12px;
  margin: 8px 0;
  border-radius: 14px;
  border: none;
  font-size: 16px;
  cursor: pointer;
}
.option {
  font-size: 26px;
}
.small {
  font-size: 13px;
  color: #666;
  margin-top: 10px;
}
.card {
  border: 2px dashed #ccc;
  padding: 20px;
  border-radius: 16px;
  text-align: center;
  font-size: 18px;
}
</style>
</head>

<body>
<div id="wrapper">
  <div id="app"></div>
</div>

<script>
const app = document.getElementById("app");
const body = document.body;

let state = {
  mode: "",
  mood: "",
  coping: "",
  direction: "",
  symbol: "",
  number: 0
};

function render(html) {
  app.innerHTML = html;
}

/* Step 1ï¼šäººç”Ÿè½‰å½ */
render(`
<h3>å¦‚æœäººç”Ÿæ­£èµ°åˆ°ä¸€å€‹è½‰å½è™•</h3>
<p>ä½ ç¾åœ¨æœ€é è¿‘å“ªå€‹é ˜åŸŸï¼Ÿ</p>
<button onclick="step1('å·¥ä½œ')">ğŸ§³ å·¥ä½œ / äº‹æ¥­</button>
<button onclick="step1('å®¶åº­')">ğŸ  å®¶åº­ / é—œä¿‚</button>
<button onclick="step1('æ±ºç­–')">ğŸ§­ é‡å¤§æ±ºç­–</button>
<button onclick="step1('è‡ªæˆ‘')">ğŸŒ¿ è‡ªæˆ‘ç‹€æ…‹</button>
`);

function step1(v){
  state.mode = v;
  render(`
  <h3>æ­¤åˆ»çš„å…§åœ¨é¢¨æ™¯æ¯”è¼ƒåƒï¼Ÿ</h3>
  <button class="option" onclick="step2('éœ§')">ğŸŒ«ï¸</button>
  <button class="option" onclick="step2('å…‰')">ğŸŒ…</button>
  <button class="option" onclick="step2('å¤œ')">ğŸŒŒ</button>
  <button class="option" onclick="step2('é¢¨')">ğŸŒ¬ï¸</button>
  <p class="small">ç›´è¦ºé¸ï¼Œä¸ç”¨æƒ³å¤ªä¹…</p>
  `);
}

function step2(v){
  state.mood = v;

  if(v === "éœ§"){
    body.style.background = "linear-gradient(#cfd9df,#5c6b73)";
  } else {
    body.style.background = "linear-gradient(#fff1c1,#ffd89b)";
  }

  render(`
  <h3>é¢å°é€™æ¨£çš„ç‹€æ…‹</h3>
  <p>ä½ é€šå¸¸æœƒæ€éº¼åšï¼Ÿ</p>
  <button onclick="step3('æ’è‘—')">ğŸ’ª æ’è‘—ä¸èªª</button>
  <button onclick="step3('æ²‰æ¾±')">ğŸª‘ éœä¸‹ä¾†</button>
  <button onclick="step3('æ±‚åŠ©')">ğŸ’¬ æ‰¾äººèŠ</button>
  <button onclick="step3('è½‰ç§»')">ğŸ§ è½‰ç§»æ³¨æ„</button>
  `);
}

function step3(v){
  state.coping = v;
  render(`
  <h3>å¦‚æœæ–¹å‘å¯ä»¥é‡æ–°é¸</h3>
  <p>ä½ æ›´åš®å¾€å“ªä¸€ç¨®ï¼Ÿ</p>
  <button onclick="step4('ç©©å®š')">ğŸ”¥ ç©©å®šèˆ‡å®‰å…¨</button>
  <button onclick="step4('çªç ´')">ğŸš€ çªç ´èˆ‡æŒ‘æˆ°</button>
  <button onclick="step4('å¹³è¡¡')">âš–ï¸ å¹³è¡¡èˆ‡èª¿å’Œ</button>
  <button onclick="step4('æ”¾ä¸‹')">ğŸƒ æ”¾ä¸‹èˆ‡ç°¡åŒ–</button>
  `);
}

function step4(v){
  state.direction = v;
  render(`
  <h3>æœ€å¾Œï¼Œå‘Šè¨´æˆ‘ä½ çš„å‡ºç”Ÿå¹´æœˆæ—¥</h3>
  <input id="dob" type="date" style="width:100%;padding:10px;border-radius:12px;">
  <button onclick="final()">ç¹¼çºŒæ—…ç¨‹</button>
  `);
}

function final(){
  const dob = document.getElementById("dob").value;
  if(!dob) return alert("è«‹è¼¸å…¥æ—¥æœŸ");

  let sum = dob.replaceAll("-","").split("").reduce((a,b)=>a+Number(b),0);
  while(sum > 9) sum = sum.toString().split("").reduce((a,b)=>a+Number(b),0);
  state.number = sum;

  const messages = {
    å·¥ä½œ: {
      1: "ä½ éœ€è¦é‡æ–°æ‹¿å›ä¸»å°æ¬Šï¼Œè€Œä¸æ˜¯ä¸€ç›´è¢«é€²åº¦è¿½è‘—è·‘ã€‚",
      2: "åˆä½œæ­£åœ¨è€ƒé©—ä½ ï¼Œä½†ä½ å…¶å¯¦æ¯”æƒ³åƒä¸­æ›´é‡è¦ã€‚",
      3: "ä½ çš„å‰µæ„è¢«å£“æŠ‘å¤ªä¹…ï¼Œæ˜¯æ™‚å€™è®“å®ƒé€æ°£äº†ã€‚",
      4: "ç©©å›ºåŸºç¤æ¯”è¡åˆºæ›´é‡è¦ã€‚",
      5: "æ”¹è®Šæ­£åœ¨é€¼è¿‘ï¼Œä¸ç”¨æ€¥è‘—æ‹’çµ•ã€‚",
      6: "è²¬ä»»æ„Ÿè®“ä½ å¾ˆç´¯ï¼Œä½†ä¹Ÿè®“äººä¾è³´ä½ ã€‚",
      7: "ä½ éœ€è¦ä¸€æ®µå®‰éœï¼Œé‡æ¸…çœŸæ­£æƒ³èµ°çš„è·¯ã€‚",
      8: "ä½ æœ‰å¯¦åŠ›ï¼Œåªæ˜¯ä½ä¼°äº†è‡ªå·±ã€‚",
      9: "ç¾åœ¨çš„çµæŸï¼Œæœƒæ›ä¾†æ›´å¤§çš„æ ¼å±€ã€‚"
    }
  };

  render(`
  <h3>ä½ çš„éˆæ•¸æ˜¯ ${state.number}</h3>
  <div class="card">
  ${messages[state.mode]?.[state.number] || "ä½ æ­£ç«™åœ¨ä¸€å€‹é‡æ–°å®šç¾©è‡ªå·±çš„é–€å£ã€‚"}
  </div>
  <p class="small">é€™ä¸æ˜¯ç­”æ¡ˆï¼Œè€Œæ˜¯ä¸€å¼µæé†’å¡ã€‚</p>
  `);
}
</script>
</body>
</html>
