<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>äººç”Ÿè½‰å½è™•ï½œç”Ÿå‘½éˆæ•¸äº’å‹•é«”é©—</title>

<style>
body{
  margin:0;
  font-family:"Helvetica Neue", sans-serif;
  background:#f5f6f8;
  transition:background 0.8s;
}
#wrapper{
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
#app{
  width:390px;
  background:#fff;
  border-radius:26px;
  padding:26px;
  box-shadow:0 20px 50px rgba(0,0,0,.18);
}
h3{margin-top:0;}
button{
  width:100%;
  padding:12px;
  margin:8px 0;
  border-radius:14px;
  border:none;
  font-size:16px;
  cursor:pointer;
  background:#f0f0f0;
}
button:hover{background:#e3edff;}
.option{font-size:26px;}
.small{font-size:13px;color:#666;}
.card{
  border-radius:22px;
  padding:22px;
  color:#fff;
  box-shadow:0 15px 40px rgba(0,0,0,.25);
  animation:fadeIn 1s ease;
}
.fade{animation:fadeIn 1.4s ease;}
@keyframes fadeIn{
  from{opacity:0;transform:translateY(10px);}
  to{opacity:1;transform:translateY(0);}
}
ul{padding-left:18px;}
</style>
</head>

<body>
<div id="wrapper">
  <div id="app"></div>
</div>

<script>
const app=document.getElementById("app");
const body=document.body;

/* ========= ç‹€æ…‹ ========= */
let state={
  mode:"",
  mood:"",
  coping:"",
  desire:"",
  number:0
};

/* ========= ç”Ÿå‘½éˆæ•¸è³‡æ–™ ========= */
const numerology={
1:{traits:["ä¸»å‹•","é ˜å°","è¡Œå‹•åŠ›","ç¨ç«‹","é–‹å‰µ"],tone:"è«‹ç›¸ä¿¡ä½ ä¸æ˜¯è¡å‹•ï¼Œè€Œæ˜¯èµ°åœ¨å‰é¢ã€‚"},
2:{traits:["æ•æ„Ÿ","å”èª¿","å‚¾è½","æ”¯æŒ","é€£çµ"],tone:"ä½ çš„æº«æŸ”ï¼Œæ˜¯ä¸–ç•Œéœ€è¦çš„åŠ›é‡ã€‚"},
3:{traits:["è¡¨é”","å‰µæ„","å¹½é»˜","æ„ŸæŸ“åŠ›","æ¨‚è§€"],tone:"è¢«çœ‹è¦‹çš„ï¼Œæ˜¯ä½ çœŸå¯¦çš„æ¨£å­ã€‚"},
4:{traits:["ç©©å®š","è¸å¯¦","çµæ§‹","è€å¿ƒ","è²¬ä»»"],tone:"æ…¢ä¸€é»ï¼Œä½ åè€Œèµ°å¾—æœ€é ã€‚"},
5:{traits:["è‡ªç”±","è®ŠåŒ–","å½ˆæ€§","é«”é©—","è¡Œå‹•"],tone:"æ”¹è®Šä¸æ˜¯é€ƒé›¢ï¼Œè€Œæ˜¯æˆé•·ã€‚"},
6:{traits:["ç…§é¡§","æ‰¿æ“”","é—œä¿‚","è²¬ä»»","æ„›"],tone:"è«‹è¨˜å¾—ï¼Œä½ ä¹Ÿå€¼å¾—è¢«ç…§é¡§ã€‚"},
7:{traits:["æ€è€ƒ","æ´å¯Ÿ","å…§çœ","çœŸå¯¦","æ·±åº¦"],tone:"å®‰éœï¼Œæ˜¯ä½ æ•´ç†ä¸–ç•Œçš„æ–¹å¼ã€‚"},
8:{traits:["åŠ›é‡","å¯¦è¸","å½±éŸ¿","è³‡æº","æˆå°±"],tone:"ä½ æœ‰èƒ½åŠ›æ‰¿è¼‰æ›´å¤§çš„å±€ã€‚"},
9:{traits:["åŒ…å®¹","å®Œæˆ","åŒç†","æ”¾ä¸‹","æ™ºæ…§"],tone:"çµæŸï¼Œæ˜¯ç‚ºäº†æ–°çš„é–‹å§‹ã€‚"}
};

/* ========= å‹•æ…‹èªæ„æ¨¡çµ„ ========= */
function dynamicMessage(s,n){
  const m1={
    å·¥ä½œ:"åœ¨å·¥ä½œèˆ‡è²¬ä»»ä¹‹ä¸­ï¼Œ",
    å®¶åº­:"åœ¨å®¶åº­èˆ‡é—œä¿‚è£¡ï¼Œ",
    æ±ºç­–:"é¢å°é‡è¦é¸æ“‡æ™‚ï¼Œ",
    è‡ªæˆ‘:"å›åˆ°ä½ è‡ªå·±èº«ä¸Šï¼Œ"
  };
  const m2={
    éœ§:"ä½ å…¶å¯¦å·²ç¶“æ„Ÿè¦ºåˆ°è¿·æƒ˜ï¼Œ",
    å…‰:"ä½ å·²ç¶“çœ‹è¦‹ä¸€æ¢å¯èƒ½çš„è·¯ï¼Œ",
    å¤œ:"ä½ æ­£åœ¨ä½èª¿ç´¯ç©åŠ›é‡ï¼Œ",
    é¢¨:"ä½ æ¸´æœ›æ”¹è®Šç¾ç‹€ï¼Œ"
  };
  const m3={
    æ’è‘—:"ä½†ä½ é¸æ“‡å…ˆæ’ä½ä¸èªªï¼Œ",
    æ²‰æ¾±:"ä½ è®“è‡ªå·±æ…¢æ…¢æ²‰æ¾±ï¼Œ",
    æ±‚åŠ©:"ä½ é¡˜æ„å°‹æ±‚é€£çµï¼Œ",
    è½‰ç§»:"ä½ æš«æ™‚ä¸æƒ³æ­£é¢é¢å°ï¼Œ"
  };
  const m4={
    ç©©å®š:"å› ç‚ºä½ éœ€è¦å®‰å…¨æ„Ÿã€‚",
    çªç ´:"å› ç‚ºä½ ä¸æƒ³å†åŸåœ°æ‰“è½‰ã€‚",
    å¹³è¡¡:"å› ç‚ºä½ æƒ³æ‰¾å›å…§åœ¨ç§©åºã€‚",
    æ”¾ä¸‹:"å› ç‚ºä½ çœŸçš„èƒŒå¤ªå¤šäº†ã€‚"
  };
  return m1[s.mode]+m2[s.mood]+m3[s.coping]+m4[s.desire]+" "+numerology[n].tone;
}

/* ========= è¨ˆç®—ç”Ÿå‘½éˆæ•¸ ========= */
function lifeNumber(dob){
  let sum=dob.replaceAll("-","").split("").reduce((a,b)=>a+Number(b),0);
  while(sum>9) sum=sum.toString().split("").reduce((a,b)=>a+Number(b),0);
  return sum;
}

/* ========= Step 1 ========= */
app.innerHTML=`
<h3>å¦‚æœäººç”Ÿèµ°åˆ°ä¸€å€‹è½‰å½è™•</h3>
<p>ä½ ç¾åœ¨æœ€é è¿‘å“ªå€‹é¢å‘ï¼Ÿ</p>
<button onclick="step1('å·¥ä½œ')">ğŸ§³ å·¥ä½œ / äº‹æ¥­</button>
<button onclick="step1('å®¶åº­')">ğŸ  å®¶åº­ / é—œä¿‚</button>
<button onclick="step1('æ±ºç­–')">ğŸ§­ é‡å¤§æ±ºç­–</button>
<button onclick="step1('è‡ªæˆ‘')">ğŸŒ± è‡ªæˆ‘ç‹€æ…‹</button>
`;

function step1(v){
  state.mode=v;
  app.innerHTML=`
  <h3>æ­¤åˆ»çš„å…§åœ¨é¢¨æ™¯åƒå“ªä¸€å¹…ï¼Ÿ</h3>
  <button class="option" onclick="step2('éœ§')">ğŸŒ«ï¸</button>
  <button class="option" onclick="step2('å…‰')">ğŸŒ…</button>
  <button class="option" onclick="step2('å¤œ')">ğŸŒŒ</button>
  <button class="option" onclick="step2('é¢¨')">ğŸŒ¬ï¸</button>
  <p class="small">ç›´è¦ºé¸æ“‡å³å¯</p>
  `;
}

/* ========= Step 2 ========= */
function step2(v){
  state.mood=v;
  body.style.background=(v==="éœ§"||v==="å¤œ")
    ?"linear-gradient(#cfd9df,#52616b)"
    :"linear-gradient(#fff1c1,#ffd89b)";

  app.innerHTML=`
  <h3>é¢å°é€™æ¨£çš„ç‹€æ…‹</h3>
  <p>ä½ é€šå¸¸æœƒæ€éº¼åšï¼Ÿ</p>
  <button onclick="step3('æ’è‘—')">ğŸ’ª æ’è‘—ä¸èªª</button>
  <button onclick="step3('æ²‰æ¾±')">ğŸª‘ éœä¸‹ä¾†</button>
  <button onclick="step3('æ±‚åŠ©')">ğŸ’¬ æ‰¾äººèŠèŠ</button>
  <button onclick="step3('è½‰ç§»')">ğŸ§ è½‰ç§»æ³¨æ„</button>
  `;
}

/* ========= Step 3 ========= */
function step3(v){
  state.coping=v;
  app.innerHTML=`
  <h3>å¦‚æœå¯ä»¥é‡æ–°é¸æ“‡æ–¹å‘</h3>
  <p>ä½ æ›´æ¸´æœ›å“ªä¸€ç¨®ï¼Ÿ</p>
  <button onclick="step4('ç©©å®š')">ğŸ”¥ ç©©å®š</button>
  <button onclick="step4('çªç ´')">ğŸš€ çªç ´</button>
  <button onclick="step4('å¹³è¡¡')">âš–ï¸ å¹³è¡¡</button>
  <button onclick="step4('æ”¾ä¸‹')">ğŸƒ æ”¾ä¸‹</button>
  `;
}

/* ========= Step 4 ========= */
function step4(v){
  state.desire=v;
  app.innerHTML=`
  <h3>æœ€å¾Œï¼Œè«‹è¼¸å…¥ä½ çš„å‡ºç”Ÿå¹´æœˆæ—¥</h3>
  <input id="dob" type="date" style="width:100%;padding:10px;border-radius:12px;">
  <button onclick="showResult()">æ­æ›‰æˆ‘çš„åœ–å¡</button>
  `;
}

/* ========= çµæœ ========= */
function showResult(){
  const dob=document.getElementById("dob").value;
  if(!dob){alert("è«‹è¼¸å…¥æ—¥æœŸ");return;}
  state.number=lifeNumber(dob);

  const n=state.number;
  const color=(state.mood==="éœ§"||state.mood==="å¤œ")
    ?"linear-gradient(#4b6cb7,#182848)"
    :"linear-gradient(#f7971e,#ffd200)";

  body.style.background=color;

  app.innerHTML=`
  <div class="card" style="background:${color}">
    <h3 class="fade">ä½ çš„ç”Ÿå‘½éˆæ•¸æ˜¯ ${n}</h3>
    <p class="fade small">ä½ çš„æ ¸å¿ƒç‰¹è³ªï¼š</p>
    <ul class="fade">
      ${numerology[n].traits.map(t=>`<li>${t}</li>`).join("")}
    </ul>
    <p class="fade">${dynamicMessage(state,n)}</p>
  </div>
  `;
}
</script>
</body>
</html>
