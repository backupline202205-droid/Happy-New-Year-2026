<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<title>äººç”Ÿè½‰å½è™• Â· éˆæ•¸äº’å‹•é«”é©—</title>
<style>
body {
  font-family: "Helvetica Neue", sans-serif;
  background: linear-gradient(#fdfcfb, #e2ebf0);
  color: #333;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}
#app {
  background: white;
  width: 360px;
  padding: 24px;
  border-radius: 20px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}
button {
  width: 100%;
  padding: 12px;
  margin: 8px 0;
  border-radius: 12px;
  border: none;
  background: #f0f0f0;
  font-size: 16px;
}
button:hover {
  background: #dfefff;
}
.choice {
  font-size: 28px;
}
.small {
  font-size: 14px;
  color: #666;
}
</style>
</head>
<body>

<div id="app"></div>

<script>
let state = {
  mode: "",
  mood: "",
  action: "",
  value: "",
  number: 0
};

const app = document.getElementById("app");

function render(html) {
  app.innerHTML = html;
}

/* Step 1 */
render(`
<h3>å¦‚æœäººç”Ÿæ­£ç«™åœ¨ä¸€å€‹è½‰å½è™•</h3>
<p>ä½ ç¾åœ¨æ¯”è¼ƒé è¿‘å“ªä¸€å¡Šï¼Ÿ</p>
<button onclick="step1('å·¥ä½œ')">ğŸ§³ å·¥ä½œ / äº‹æ¥­</button>
<button onclick="step1('å®¶åº­')">ğŸ  å®¶åº­ / é—œä¿‚</button>
<button onclick="step1('æ±ºç­–')">ğŸ§­ é‡è¦æ±ºç­–</button>
`);

function step1(v){
  state.mode = v;
  render(`
  <h3>æ­¤åˆ»çš„ä½ ï¼Œæ¯”è¼ƒåƒå“ªä¸€ç¨®ç•«é¢ï¼Ÿ</h3>
  <button class="choice" onclick="step2('å…‰')">ğŸŒ…</button>
  <button class="choice" onclick="step2('éœ§')">ğŸŒ«ï¸</button>
  <p class="small">æ²’æœ‰å°éŒ¯ï¼Œåªæ˜¯ç‹€æ…‹</p>
  `);
}

function step2(v){
  state.mood = v;
  render(`
  <h3>å¦‚æœç¾åœ¨ä¸ç”¨ç«‹åˆ»è§£æ±º</h3>
  <p>ä½ æ¯”è¼ƒæƒ³ï¼Ÿ</p>
  <button onclick="step3('éœä¸€ä¸‹')">ğŸª‘ éœä¸€ä¸‹</button>
  <button onclick="step3('èŠèŠ')">ğŸ’¬ æ‰¾äººèŠèŠ</button>
  <button onclick="step3('æ’è‘—')">ğŸ’ª æ’éå»</button>
  `);
}

function step3(v){
  state.action = v;
  render(`
  <h3>å“ªä¸€ç¨®æ–¹å‘æ›´é è¿‘ä½ ï¼Ÿ</h3>
  <button class="choice" onclick="step4('ç©©å®š')">ğŸ”¥ ç©©å®š</button>
  <button class="choice" onclick="step4('æˆé•·')">ğŸŒ± æˆé•·</button>
  `);
}

function step4(v){
  state.value = v;
  render(`
  <h3>æœ€å¾Œï¼Œå‘Šè¨´æˆ‘ä½ çš„å‡ºç”Ÿå¹´æœˆæ—¥</h3>
  <input id="dob" type="date" style="width:100%;padding:10px;border-radius:10px;">
  <button onclick="final()">ç¹¼çºŒ</button>
  `);
}

function final(){
  const dob = document.getElementById("dob").value;
  if(!dob) return alert("è«‹è¼¸å…¥æ—¥æœŸ");
  const digits = dob.replaceAll("-","").split("").map(Number);
  let sum = digits.reduce((a,b)=>a+b,0);
  while(sum > 9) sum = sum.toString().split("").reduce((a,b)=>a+Number(b),0);
  state.number = sum;

  render(`
  <h3>ä½ çš„äººç”Ÿç¯€å¥æ˜¯ ${sum}</h3>
  <p>
  åœ¨ã€Œ${state.mode}ã€çš„è½‰å½è™•ï¼Œ  
  ç•¶ä½ æ„Ÿè¦ºåœ¨${state.mood==="éœ§"?"éœ§è£¡":"å…‰ä¸­"}ï¼Œ  
  åˆé¸æ“‡äº†ã€Œ${state.action}ã€ï¼Œ  
  å…¶å¯¦ä»£è¡¨ä½ å…§åœ¨éå¸¸éœ€è¦  
  <strong>${state.value==="ç©©å®š"?"è¢«æ¥ä½":"è¢«ç†è§£å¾Œå‰é€²"}</strong>ã€‚
  </p>
  <p class="small">é€™ä¸æ˜¯å®šç¾©ï¼Œæ˜¯æé†’ã€‚</p>
  `);
}
</script>

</body>
</html>
